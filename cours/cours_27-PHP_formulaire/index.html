<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Cours 27 - PHP - Formulaires</title>
        <meta name="description" content="">
        <meta name="author" content="Bruno Simon">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="../src/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="../src/reveal.js/css/theme/orange.css" id="theme">
        <!-- <link rel="stylesheet" href="../src/reveal.js/lib/css/highlight/railscasts.css"> -->
        <!-- <link rel="stylesheet" href="../src/reveal.js/lib/css/highlight/github.css"> -->
        <link rel="stylesheet" href="../src/custom/style.css">
        <script>
            document.write( '<link rel="stylesheet" href="../src/reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>
        <!--[if lt IE 9]>
            <script src="../src/reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->

        <!-- Code steps start -->
        <link rel="stylesheet" href="../src/code-steps/prism-tomorrow.css">
        <link rel="stylesheet" href="../src/code-steps/style.css">
        <!-- Code steps end -->
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h3>H2 - P2023</h3>
                    <h1>Développement web</h1>
                    <h3>Cours 27</h3>
                    <ul>
                        <li>github : <a target="_blank" href="https://github.com/brunosimon/hetic-p2023">https://github.com/brunosimon/hetic-p2023</a></li>
                        <li>site : <a target="_blank" href="http://bruno-simon.com/hetic/p2023/">http://bruno-simon.com/hetic/p2023/</a></li>
                        <li>contact : <a target="_blank" mailto="bruno.simon@hetic.net">bruno.simon@hetic.net</a></li>
                    </ul>
                </section>

                <section>
                    <h3>HTML / PHP</h3>
                    <h1>Formulaires</h1>
                </section>

                <section>
                    <h2>Créer le formulaire</h2>
                </section>

                <section>
                    <p>En HTML, un formulaire se créé avec la balise <span class="hl">form</span></p>
                    <p>L'attribut <span class="hl">action</span> correspond à l'adresse de destination lorsque l'utilisateur va valider le formulaire</p>
                    <p>L'attribut <span class="hl">method</span> correpond à la méthode d'envoi des données</p>
                </section>

                <section>
                    <p>Exemple simple</p>
                    <div class="code-steps" data-type="html" data-trim>
                        <pre contenteditable><code>
&lt;form action=&quot;#&quot; method=&quot;post&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;toto&quot;&gt;
    &lt;input type=&quot;submit&quot;&gt;
&lt;/form&gt;
                    
                        </code></pre>
                    </div>
                </section>

                <section>
                    <p>Pour l'attribut <span class="hl">action</span>, on peut indiquer une autre page (<span class="u">autre-page.php</span>) ou la même page (<span class="u">index.php</span>)</p>
                    <p>En général, la destination est toujours la même page afin de gérer les éventuelles erreurs et de refaire apparaître le même formulaire s'il y en a</p>
                    <p>Plutôt que d'indiquer à chaque fois le chemin de la page courrante, on peut aussi écrire un <span class="u">#</span></p>
                </section>

                <section>
                    <p>Pour l'attribut <span class="hl">method</span>, il existe deux valeurs, <span class="u">get</span> et <span class="u">post</span></p>
                    <ul>
                        <li>Les données envoyées en GET sont visible dans l'URL</li>
                        <li>Les données envoyées en POST n'apparaissent pas dans l'URL</li>
                    </ul>
                    <p>Il vaut, en général, mieux utiliser POST</p>
                </section>

                <section>
                    <h2>Les champs</h2>
                </section>

                <section>
                    <p>Les différents champs sont en général créés à l'aide de balises input</p>
                    <p>Il existe des exceptions comme le <span class="hl">select</span> ou le <span class="hl">textarea</span></p>
                    <p>Certains ne sont pas compatibles avec tous les navigateurs et l'affichage peut varier</p>
                </section>

                <section>
                    <p>Exemple</p>
                    <div class="code-steps" data-type="html" data-trim>
                        <pre contenteditable><code>
&lt;form action=&quot;#&quot; method=&quot;post&quot;&gt;
    &lt;input type="text" value="Mon text"&gt;

    &lt;br&gt;
    &lt;input type="password" value="password"&gt;

    &lt;br&gt;
    &lt;input type="search" value="search"&gt;

    &lt;br&gt;
    &lt;input type="color" value="#ff0000"&gt;

    &lt;br&gt;
    &lt;input type="date" value="1990-01-17"&gt;

    &lt;br&gt;
    &lt;input type="month" value="2014-03"&gt;

    &lt;br&gt;
    &lt;input type="week" value="2014-W12"&gt;

    &lt;br&gt;
    &lt;input type="time" value="10:25"&gt;

    &lt;br&gt;
    &lt;input type="email" value="toto@tata.com"&gt;

    &lt;br&gt;
    &lt;input type="tel" value="+33631446033"&gt;

    &lt;br&gt;
    &lt;input type="url" value="http://google.com"&gt;

    &lt;br&gt;
    &lt;input type="number" value="1337"&gt;

    &lt;br&gt;
    &lt;input type="checkbox" value="1"&gt;

    &lt;br&gt;
    &lt;input type="radio" value="value" name="same-name"&gt;
    &lt;input type="radio" value="value" name="same-name"&gt;
    &lt;input type="radio" value="value" name="same-name"&gt;

    &lt;br&gt;
    &lt;input type="range" value="60" max="100" max="20"&gt;

    &lt;br&gt;
    &lt;input type="file"&gt;

    &lt;br&gt;
    &lt;select&gt;
        &lt;option value="1"&gt;Toto&lt;/option&gt;
        &lt;option value="2"&gt;Tata&lt;/option&gt;
        &lt;option value="3"&gt;Tutu&lt;/option&gt;
    &lt;/select&gt;

    &lt;br&gt;
    &lt;select multiple&gt;
        &lt;option value="1"&gt;Toto&lt;/option&gt;
        &lt;option value="2"&gt;Tata&lt;/option&gt;
        &lt;option value="3"&gt;Tutu&lt;/option&gt;
    &lt;/select&gt;

    &lt;br&gt;
    &lt;textarea cols="30" rows="10"&gt;Mon text&lt;/textarea&gt;

    &lt;br&gt;
    &lt;input type="hidden" value="value"&gt;

    &lt;br&gt;
    &lt;input type="reset" value="reset"&gt;

    &lt;br&gt;
    &lt;input type="submit" value="submit"&gt;
&lt;/form&gt;
                    
                        </code></pre>
                    </div>
                </section>

                <section>
                    <p>Les différents champs peuvent être organisés dans des <span class="hl">fieldsets</span></p>
                    <p>La balise <span class="hl">fieldset</span> va créer un cadre englobant les champs</p>
                    <p>La balise <span class="hl">legend</span> permet de rajouter un titre au fieldset</p>
                    <p class="fragment">Pas franchement utile</p>
                </section>

                <section>
                    <p>Exemple</p>
                    <div class="code-steps" data-type="html" data-trim>
                        <pre contenteditable><code>
&lt;form action=&quot;#&quot; method=&quot;post&quot;&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Legend&lt;/legend&gt;
        &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;value&quot;&gt;
        &lt;input type=&quot;submit&quot;&gt;
    &lt;/fieldset&gt;
&lt;/form&gt;
                    
                        </code></pre>
                    </div>
                </section>

                <section>
                    <p>La majorité des champs sont des inputs et ont plusieurs attributs</p>
                    <ul>
                        <li><span class="hl">type</span> correspond au type de champ</li>
                        <li><span class="hl">name</span> correspond au nom du champ (nécessaire pour récupérer en PHP)</li>
                        <li><span class="hl">value</span> correpond à la valeur</li>
                        <li><span class="hl">placeholder</span> permet d'afficher un texte par défaut</li>
                    </ul>
                </section>

                <section>
                    <p>Un <span class="hl">input</span> peut-être accompagné d'un <span class="hl">label</span></p>
                    <p>Si l'attribut <span class="hl">for</span> du label correspond à l'<span class="hl">id</span> de l'input, cliquer sur le label aura pour effet de cliquer sur l'input</p>
                    <div class="code-steps" data-type="html" data-trim>
                        <pre contenteditable><code>
<form action="#">
    <label for="foo">Label</label>
    <input type="text" id="foo">
</form>
                    
                        </code></pre>
                    </div>
                </section>

                <section>
                    <p>Dans le cadre des inputs de types <span class="hl">checkbox</span> et <span class="hl">radio</span>, le label peut contenir l'input</p>
                    <div class="code-steps" data-type="html" data-trim>
                        <pre contenteditable><code>
<form action="#">
    <label>
        Label
        <input type="checkbox">
    </label>
</form>
                    
                        </code></pre>
                    </div>
                    <p>Il n'est plus nécessaire de mettre le <span class="hl">for</span> et l'<span class="hl">id</span></p>
                </section>

                <section>
                    <h2>Gérer les données</h2>
                </section>

                <section>
                    <p>En PHP il est possible de récupérer les données envoyées dans les variables <span class="hl">$_POST</span> ou <span class="hl">$_GET</span> selon la méthode d'envoi</p>
                    <p>Ce sont des <span class="hl">tableaux associatifs</span></p>
                    <p>Les clés du tableau correspondent aux attributs <span class="hl">name</span> des champs</p>
                    <p>Les valeurs correspondent aux attributs <span class="hl">value</span> des champs</p>
                </section>

                <section>
                    <p>Exemple</p>
                    <div class="code-steps" data-type="php" data-trim>
                        <pre contenteditable><code>
&lt;?
    echo '&lt;pre&gt;';
    print_r($_POST);
    echo '&lt;/pre&gt;';
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action="#" method="post"&gt;
        &lt;input type="text" name="name" value="value"&gt;
        &lt;input type="submit"&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
                    
                        </code></pre>
                    </div>
                </section>

                <section>
                    <p>Ayez pour habitude de faire le traitement PHP avant le HTML</p>
                </section>

            </div>
        </div>

        <script src="../src/reveal.js/lib/js/head.min.js"></script>
        <script src="../src/reveal.js/js/reveal.js"></script>
        <script src="../src/custom/script.js"></script>

        <!-- Code steps start -->
        <script src="../src/code-steps/prism.js" data-manual></script>
        <!-- Code steps end -->

        <script type="module" src="../src/custom/script-module.js"></script>
    </body>
</html>
